{"version":3,"sources":["apiinfo.js","Scripts/utils.js","Scripts/adminScripts.js","components/Preloader.js","Contexts/ImageCardContext.js","components/FavCarousel.js","components/CarouselInfo.js","App.js","index.js"],"names":["apikey","listId","dataHandler","screenHandler","a","apiData","index","size","fetch","then","res","json","baseUrl","images","base_url","items","forEach","element","obj","url","poster_path","title","original_title","rating","vote_average","overview","push","generateToken","token","request_token","window","location","replace","Preloader","props","children","ImageCardContext","createContext","ImageContextProvider","useState","description","imageInfo","setInfo","Provider","value","reducer","state","action","ImageCardStyle","Styled","div","scaled","CardCarouselContainer","current","FavCarousel","useReducer","count","dispatch","className","map","image","data","highlight","onWheel","e","handler","deltaY","handleWheel","ImageCard","setHighlight","highlightHelper","useContext","infoObj","useEffect","Math","abs","src","CarouselInfo","id","field","document","getElementById","currentScroll","scrollTop","scrollTo","console","log","handleScroll","Sect","styled","section","color","App","currentScreen","setScreen","setData","screen","currenPosition","scrollY","windowHeight","innerHeight","startTime","Date","now","distance","smoothScrollTo","b","t","elapsedTime","percentTime","requestAnimationFrame","dataFetcher","onwheel","preventDefault","wheelHandler","onClick","href","URL","searchParams","get","xrc","XMLHttpRequest","open","setRequestHeader","onload","response","parsed","JSON","parse","sessionStorage","setItem","session_id","requestBody","send","stringify","parseUrl","getItem","printStorage","ReactDOM","render","StrictMode"],"mappings":"0NAQaA,EAAS,mCACXC,EAAS,U,4CCPb,WAA2BC,EAAaC,GAAxC,yBAAAC,EAAA,6DAECC,EAAU,GACVC,EAAQ,EACRC,EAAO,OAJR,SAMGC,MAAM,sDAAD,OAAuDR,IAAUS,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAC,GACrGE,EAAUF,EAAIG,OAAOC,YAPtB,uBAUGN,MAAM,qCAAD,OAAsCP,EAAtC,oBAAwDD,IAAUS,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAC,GACtGK,EAAQL,EAAIK,MACGL,KAZhB,OAeHK,EAAMC,SAAQ,SAAAC,GACNX,EAAQ,IACRY,EAAM,CACFC,IAAKP,EAAUL,EAAOU,EAAQG,YAC9BC,MAAOJ,EAAQK,eACfC,OAAQN,EAAQO,aAChBC,SAAUR,EAAQQ,UAEtBpB,EAAQqB,KAAKR,OAKrBhB,EAAYG,GACZF,EAAc,GA7BX,6C,sBCMA,SAASwB,IAGZnB,MAAM,iEAAD,OAAkER,IACtES,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,MAAK,SAAAC,GAAG,OAEXkB,EAF4BlB,EAAImB,mBAGlDC,OAAOC,SAASC,QAAhB,kDAAmEJ,EAAnE,gDADJ,IAAsBA,KCZnB,IAAMK,EAAY,SAACC,GACtB,OACA,gCACA,gDACCA,EAAMC,a,QCJEC,EAAmBC,0BAGnBC,EAAuB,SAACJ,GAEjC,IAF2C,EAOdK,mBALZ,CACblB,MAAO,MACPE,OAAQ,IACRiB,YAAa,wBAL0B,mBAOpCC,EAPoC,KAOzBC,EAPyB,KAa3C,OACI,cAACN,EAAiBO,SAAlB,CAA2BC,MAAO,CAAC,eAAIH,GALtB,SAACvB,GAClBwB,EAAQxB,KAIR,SACKgB,EAAMC,Y,idCXnB,IAEMU,EAAU,SAACC,EAAOC,GACpB,OAAOA,GACH,IAAK,YACD,OAAOD,EAAQ,EACnB,IAAK,YACD,OAAOA,EAAQ,EACnB,IAAK,QACD,OATO,EAUX,QACI,OAAOA,IAKbE,EAAiBC,IAAOC,IAAV,KAIK,SAAAhB,GAAK,OAAkB,GAAdA,EAAM5B,SAC3B,SAAA4B,GAAK,OAAIA,EAAMiB,OAAS,IAAM,KAGrCC,EAAwBH,IAAOC,IAAV,KAKF,SAAAhB,GAAK,OAAoB,GAAhBA,EAAMmB,WAI3BC,EAAc,SAACpB,GAAW,IAAD,EAERqB,qBAAWV,EAnCtB,GAiCmB,mBAE3BW,EAF2B,KAEpBC,EAFoB,KAIlC,OACI,sBAAKC,UAAU,WAAf,UACI,cAACN,EAAD,CAAuBC,QAASG,EAAhC,SAEKtB,EAAMrB,OAAO8C,KAAI,SAACC,EAAOtD,GAAR,OAAkB,cAAC,EAAD,CAAuBA,MAAOA,EAAOuD,KAAMD,EAAOE,UAAWN,GAA7ClD,QAGxD,qBAAKoD,UAAU,gBAAgBK,QAAS,SAAAC,GAAC,OAMjD,SAAqBA,EAAGC,GAChBD,EAAEE,OAAS,EACXD,EAAQ,aAERA,EAAQ,aAVqCE,CAAYH,EAAGP,MAE/DvB,EAAMC,aAaTiC,EAAY,SAAClC,GAAW,IAAD,EAESK,oBAAS,GAFlB,mBAElBuB,EAFkB,KAEPO,EAFO,KAGnBC,EAAkBpC,EAAM4B,UAAY,EAEpCG,EADOM,qBAAWnC,GACH,GACfoC,EAAU,CACZnD,MAAOa,EAAM2B,KAAKxC,MAClBE,OAAQW,EAAM2B,KAAKtC,OACnBiB,YAAaN,EAAM2B,KAAKpC,UAsB5B,OAnBAgD,qBAAU,WAEFH,EAAkB,EACdA,GAAmBI,KAAKC,IAAIzC,EAAM5B,MAAQ,IAC1C+D,GAAa,GACbJ,EAAQO,IAERH,GAAa,GAGbK,KAAKC,IAAIL,IAAoBpC,EAAM5B,OACnC+D,GAAa,GACbJ,EAAQO,IAERH,GAAa,KAGtB,CAACnC,EAAM4B,YAIN,cAACd,EAAD,CAAgB1C,MAAO4B,EAAM5B,MAAO6C,OAAQW,EAA5C,SACI,qBAAKJ,UAAU,gBAAgBkB,IAAK1C,EAAM2B,KAAK1C,SClG9C0D,EAAe,SAAC3C,GACzB,IAAM2B,EAAOU,qBAAWnC,GAExB,OACI,sBAAKsB,UAAU,mBAAf,UACI,qBAAKA,UAAU,4BAAf,SACI,6BAAKG,EAAK,GAAGxC,UAEjB,sBAAKqC,UAAU,0BAAf,UACI,qBAAKA,UAAU,4BAAf,SAA2C,4BAAIG,EAAK,GAAGtC,WACvD,qBAAKuD,GAAG,aAAaf,QAAS,SAAAC,GAAC,OAM3C,SAAsBA,GAClB,IAAMe,EAAQC,SAASC,eAAe,cAChCC,EAAgBH,EAAMI,UACxBnB,EAAEE,OAAS,EAAIa,EAAMK,SAAS,EAAGF,EAAgB,IAEjDH,EAAMK,SAAS,EAAGF,EAAgB,IAGtCG,QAAQC,IAAIJ,GAd+BK,CAAavB,IAAIN,UAAU,0BAA9D,SAAyFG,EAAK,GAAGrB,iBAEpGN,EAAMC,a,qNCNnB,IAAMqD,EAAOC,IAAOC,QAAV,KACY,SAAAxD,GAAK,OAAIA,EAAMyD,OAAS,YAmE/BC,MA3Df,WAAgB,IAAD,EAEsBrD,mBAAS,GAF/B,mBAENsD,EAFM,KAESC,EAFT,OAGcvD,mBAAS,IAHvB,mBAGNlC,EAHM,KAGG0F,EAHH,KAoBb,OAbAtB,qBAAU,WAEJoB,EAAgB,GNMjB,SAAuBG,GAO1B,IAAMC,EAAiBnE,OAAOoE,QACxBC,EAAerE,OAAOsE,YAEtBC,EAAYC,KAAKC,MAEjBC,EADcR,EAASG,EACEF,GAI/B,SAASQ,IAEL,IAYarG,EAAEsG,EAIDC,EAfRC,EADcN,KAAKC,MACSF,EAC5BQ,EAAcD,EAXP,IAaTA,EAbS,KAcT9E,OAAOsD,SAAS,EAAGa,EAAkBO,IAO5BpG,EAP2C,IAOzCsG,GAIDC,EAXkDE,GAYjDF,GAJIvG,EAAIsG,IAPnB5E,OAAOgF,sBAAsBL,IAG7B3E,OAAOsD,SAAS,EAAGe,EAAeH,GAb1CS,GMnBEtG,CAAc0F,KAGf,CAACA,IAEJpB,qBAAU,YNhCL,SAAP,6BMiCIsC,CAAYhB,EAASD,GACrBhE,OAAOkF,QAAU,SAAChD,GAAD,ONuCd,SAAsBA,GACzBA,EAAEiD,iBMxCsBC,CAAalD,MACpC,IAGD,sBAAKN,UAAU,MAAf,UACE,cAAC8B,EAAD,UACE,cAAC,EAAD,UACA,wBAAQ2B,QAAS,kBAAMrB,EAAU,IAAjC,uBAGF,eAACN,EAAD,CAAMG,MAAM,QAAZ,UACE,qBAAKjC,UAAU,eAAf,SACA,eAAC,EAAD,WACE,cAAC,EAAD,CAAa7C,OAAQR,IAEnB,cAAC,EAAD,SAMJ,wBAAQyE,GAAG,iBAAiBqC,QAAS,kBAAMrB,EAAU,IAArD,qBAEF,eAACN,EAAD,WACE,wCACA,wBAAQ2B,QAAS,kBAAMrB,EAAU,IAAjC,gBACA,wBAAQqB,QAAS,kBAAMrB,EAAU,IAAjC,qBAEF,eAACN,EAAD,WACE,0CACA,wBAAQ2B,QAAS,kBAAMxF,KAAvB,sBACA,wBAAQwF,QAAS,kBL/ClB,WACH,IAAIpF,EAAWD,OAAOC,SAASqF,KAG3BxF,EAFM,IAAIyF,IAAItF,GAEFuF,aAAaC,IAAI,iBAC7BC,EAAM,IAAIC,eACdD,EAAIE,KAAK,OAAT,0EAAoF1H,IACpFwH,EAAIG,iBAAiB,eAAgB,oBAErCH,EAAII,OAAS,WACTvC,QAAQC,IAAIkC,EAAIK,UAChB,IAAIC,EAASC,KAAKC,MAAMR,EAAIK,UAC5BI,eAAeC,QAAQ,aAAcJ,EAAOK,aAGhD,IAAIC,EAAc,CACdvG,cAAeD,GAGnB4F,EAAIa,KAAKN,KAAKO,UAAUF,IK4BGG,IAAvB,oBACA,wBAAQpB,QAAS,kBL1BlB,WACH,IAAItD,EAAOoE,eAAeO,QAAQ,cAClCnD,QAAQC,IAAIzB,GACZ,IAAI1C,EAAG,0EAAsEnB,EAAtE,uBAA2F6D,GAClGrD,MAAMW,GAAKV,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAAQF,KAAK4E,QAAQC,KKsBrBmD,IAAvB,6BC/DRC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF5D,SAASC,eAAe,W","file":"static/js/main.92516fca.chunk.js","sourcesContent":["/*\nInformation about my api\n\n*/\n\n\n\n\nexport const apikey = \"204136600090e24124b9f4d6fecc8b71\";\nexport let listId = \"7064440\";","import {apikey, listId} from \"./../apiinfo\";\n\nexport async function dataFetcher(dataHandler, screenHandler){\n    let baseUrl, items, captionImage, obj;\n    let apiData = [];\n    let index = 0;\n    let size = \"w500\";\n    \n    await fetch(`https://api.themoviedb.org/3/configuration?api_key=${apikey}`).then(res => res.json()).then(res => {\n        baseUrl = res.images.base_url;\n    });\n\n    await fetch(`https://api.themoviedb.org/3/list/${listId}?api_key=${apikey}`).then(res => res.json()).then(res => {\n        items = res.items;\n        captionImage = res;\n    })\n\n    items.forEach(element => {\n        if (index < 8){\n            obj = {\n                url: baseUrl + size + element.poster_path,\n                title: element.original_title,\n                rating: element.vote_average,\n                overview: element.overview\n            }\n            apiData.push(obj);\n        }\n\n\n    });\n    dataHandler(apiData);\n    screenHandler(1);\n}\n\nexport function screenHandler(screen){\n    /*\n    \n    This function is reponsible for smooth scroll between different components of the application\n\n    */\n    \n    const currenPosition = window.scrollY;\n    const windowHeight = window.innerHeight;\n    const duration = 1000;\n    const startTime = Date.now();\n    const endPosition = screen * windowHeight;\n    const distance = endPosition - currenPosition;\n\n    smoothScrollTo();\n    \n    function smoothScrollTo(){\n        \n        const currentTime = Date.now();\n        const elapsedTime = currentTime - startTime;\n        const percentTime = elapsedTime / duration;\n\n        if (elapsedTime < duration) {\n            window.scrollTo(0, currenPosition + (distance * min(1, ease(percentTime))));\n            window.requestAnimationFrame(smoothScrollTo);\n\n        } else {\n            window.scrollTo(0, windowHeight * screen);\n        }\n\n        function min(a,b){\n            return a < b ? a : b;\n        }\n\n        function ease(t){\n            return t * t;\n        }\n        \n    }\n}\n\nexport function wheelHandler(e){\n    e.preventDefault();\n    \n}\n\n","import {apikey} from \"./../apiinfo\";\n\n/* \n\nThese scripts are designed to only be used while configuring the site.\n\n*/\n\nexport function generateToken(){\n    \n\n    fetch(`https://api.themoviedb.org/3/authentication/token/new?api_key=${apikey}`)\n    .then(res => res.json()).then(res => authenticate(res.request_token));\n\n    function authenticate(token){\n        window.location.replace(`https://www.themoviedb.org/authenticate/${token}?redirect_to=http://localhost:3000/movieapp`)\n    }\n\n}\n\nexport function parseUrl(){\n    let location = window.location.href;\n    let url = new URL(location);\n\n    let token = url.searchParams.get(\"request_token\");\n    let xrc = new XMLHttpRequest();\n    xrc.open(\"POST\", `https://api.themoviedb.org/3/authentication/session/new?api_key=${apikey}`);\n    xrc.setRequestHeader(\"Content-Type\", \"application/json\");\n\n    xrc.onload = () => {\n        console.log(xrc.response);\n        let parsed = JSON.parse(xrc.response)\n        sessionStorage.setItem(\"session_id\", parsed.session_id)\n    }\n\n    let requestBody = {\n        request_token: token\n    }\n\n    xrc.send(JSON.stringify(requestBody));\n}\n\nexport function printStorage(){\n    let data = sessionStorage.getItem(\"session_id\");\n    console.log(data);\n    let url = `https://api.themoviedb.org/3/account/{account_id}/lists?api_key=${apikey}&session_id=${data}`\n    fetch(url).then(res => res.json()).then(console.log)\n}\n","\n\nexport const Preloader = (props) => {\n    return (\n    <div>\n    <h1>I am preloader</h1>\n    {props.children}\n    </div>\n    );\n}","import { createContext, useState } from \"react\";\n\nexport const ImageCardContext = createContext();\n\n\nexport const ImageContextProvider = (props) => {\n    \n    const imageObj = {\n        title: \"Lol\",\n        rating: 9.1,\n        description: \"Vitun hyvä leffa\"\n    }\n    const [imageInfo, setInfo] = useState( imageObj );\n\n    const toggleActive = (obj) => {\n        setInfo(obj);\n    }\n\n    return (\n        <ImageCardContext.Provider value={[{...imageInfo}, toggleActive]}>\n            {props.children}\n        </ImageCardContext.Provider>\n    );\n}","import Styled from \"styled-components\";\nimport { useEffect, useReducer, useState, useContext } from \"react\";\nimport { ImageCardContext } from \"../Contexts/ImageCardContext\";\n\n/* \n\n\n\n*/\nlet initialState = 0;\n\nconst reducer = (state, action) => {\n    switch(action) {\n        case \"increment\":\n            return state + 1;\n        case \"decrement\":\n            return state - 1;\n        case \"reset\":\n            return initialState;\n        default:\n            return state;\n    }\n}\n\n\nconst ImageCardStyle = Styled.div`\n    height: auto;\n    position: absolute;\n    border: 1px solid black;\n    transform: rotateY(${props => props.index * 45}deg) translateZ(500px);\n    scale: ${props => props.scaled ? 1.2 : 1};\n    transition: 1s;\n`\nconst CardCarouselContainer = Styled.div`\n    width: 300px;\n    height: 450px;\n    position: relative;\n    transform-style: preserve-3d;\n    transform: rotateY(${props => props.current * 45}deg);\n    transition: linear 1s;\n`\n\nexport const FavCarousel = (props) => {\n\n    const [count, dispatch] = useReducer(reducer, initialState);\n\n    return (\n        <div className=\"carousel\">\n            <CardCarouselContainer current={count}>\n\n                {props.images.map((image, index) => <ImageCard key={index} index={index} data={image} highlight={count}/>)}\n\n            </CardCarouselContainer>\n            <div className=\"scroll-hitbox\" onWheel={e => handleWheel(e, dispatch)}>\n            </div>\n        {props.children}\n        </div>\n    )\n\n    function handleWheel(e, handler){\n        if (e.deltaY > 0) {\n            handler(\"decrement\");\n        } else {\n            handler(\"increment\");\n        }\n    }\n}\n\nconst ImageCard = (props) => {\n\n    const [highlight, setHighlight] = useState(false);\n    const highlightHelper = props.highlight % 8;\n    const data = useContext(ImageCardContext);\n    const handler = data[1];\n    const infoObj = {\n        title: props.data.title,\n        rating: props.data.rating,\n        description: props.data.overview\n    }\n\n    useEffect(() => {\n\n        if (highlightHelper > 0) {\n            if (highlightHelper == Math.abs(props.index - 8)) {\n                setHighlight(true);\n                handler(infoObj);\n            }   else {\n                setHighlight(false);\n            }\n        } else {\n            if (Math.abs(highlightHelper) == props.index) {\n                setHighlight(true);\n                handler(infoObj);\n            } else {\n                setHighlight(false);\n            }\n        }\n    }, [props.highlight]);\n    \n    return (\n\n        <ImageCardStyle index={props.index} scaled={highlight}>\n            <img className=\"carouselImage\" src={props.data.url}/>\n        </ImageCardStyle>\n\n    );\n\n}","import { useContext } from 'react';\nimport { ImageCardContext } from \"../Contexts/ImageCardContext\"\n\n\nexport const CarouselInfo = (props) => {\n    const data = useContext(ImageCardContext);\n\n    return (\n        <div className=\"carouselInfoCont\">\n            <div className=\"carousel-info-header-cont\">\n                <h1>{data[0].title}</h1>\n            </div>\n            <div className=\"carousel-info-body-cont\">\n                <div className=\"carousel-info-body-rating\"><p>{data[0].rating}</p></div>\n                <div id=\"text-field\" onWheel={e => handleScroll(e)} className=\"carousel-info-body-text\">{data[0].description}</div>\n            </div>\n            {props.children}\n        </div>\n    );\n\n    function handleScroll(e){\n        const field = document.getElementById(\"text-field\");\n        const currentScroll = field.scrollTop;\n        if (e.deltaY > 0) {field.scrollTo(0, currentScroll + 10);}\n        else  {\n            field.scrollTo(0, currentScroll - 10);\n        }\n\n        console.log(currentScroll);\n\n    }\n}","import styled from \"styled-components\";\nimport { useEffect, useState } from \"react\";\nimport {screenHandler, dataFetcher, wheelHandler} from \"./Scripts/utils\";\nimport { generateToken, parseUrl, printStorage } from \"./Scripts/adminScripts\";\nimport { Preloader } from \"./components/Preloader\";\nimport { FavCarousel } from \"./components/FavCarousel\";\nimport { CarouselInfo } from \"./components/CarouselInfo\";\nimport { ImageContextProvider } from \"./Contexts/ImageCardContext\";\nimport \"./appStyle.css\";\n\nconst Sect = styled.section`\n  background-color: ${props => props.color || \"orange\"};\n  height: 100vh;\n  display:flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n`\n\nfunction App() {\n  \n  const [currentScreen, setScreen] = useState(0);\n  const [apiData, setData] = useState([]);\n\n\n  \n  useEffect(() => {\n    \n    if (currentScreen > 0) {\n      screenHandler(currentScreen);\n    }\n    \n  }, [currentScreen]);\n\n  useEffect(() => {\n    dataFetcher(setData, setScreen);\n    window.onwheel = (e) => wheelHandler(e);\n  }, [])\n\n  return (\n    <div className=\"App\">\n      <Sect>\n        <Preloader>\n        <button onClick={() => setScreen(1)}>Click</button>\n        </Preloader>\n      </Sect>\n      <Sect color=\"black\">\n        <div className=\"carouselCont\">\n        <ImageContextProvider>\n          <FavCarousel images={apiData}/>\n          \n            <CarouselInfo>\n            </CarouselInfo>\n\n        </ImageContextProvider>\n          \n        </div>\n        <button id=\"carouselbutton\" onClick={() => setScreen(2)}>Down</button>\n      </Sect>\n      <Sect>\n        <p>Content</p>\n        <button onClick={() => setScreen(1)}>Up</button>\n        <button onClick={() => setScreen(3)}>Down</button>\n      </Sect>\n      <Sect>\n        <p>Signature</p>\n        <button onClick={() => generateToken()}>Tokenize</button>\n        <button onClick={() => parseUrl()}>Parser</button>\n        <button onClick={() => printStorage()}>Printter</button>\n      </Sect>\n\n    </div>\n   \n\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}